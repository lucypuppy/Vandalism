package de.nekosarekawaii.vandalism.feature.module.impl.exploit;

import de.nekosarekawaii.vandalism.Vandalism;
import de.nekosarekawaii.vandalism.base.event.network.OutgoingPacketListener;
import de.nekosarekawaii.vandalism.feature.module.AbstractModule;
import net.minecraft.network.packet.c2s.play.CloseHandledScreenC2SPacket;

public class CraftCarryModule extends AbstractModule implements OutgoingPacketListener {

    public CraftCarryModule() {
        super("Craft Carry", "Allows you to keep items inside the crafting slots.", Category.EXPLOIT);
    }

    @Override
    public void onActivate() {
        Vandalism.getInstance().getEventSystem().subscribe(OutgoingPacketEvent.ID, this);
    }

    @Override
    public void onDeactivate() {
        Vandalism.getInstance().getEventSystem().unsubscribe(OutgoingPacketEvent.ID, this);
    }

    @Override
    public void onOutgoingPacket(final OutgoingPacketEvent event) {
        if (event.packet instanceof CloseHandledScreenC2SPacket) event.cancel();
    }

}
